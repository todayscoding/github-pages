<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Busan Tour Map - Ultimate Edition</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Noto+Sans+KR:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --background-color: #0d1b2a;
        --primary-text: #eaeaea;
        --secondary-text: #b0b0b0;
        --card-bg: #1b263b;
        --border-color: #415a77;
        --neon-pink: #f000b8;
        --neon-cyan: #00f2ea;
        --font-heading: "Bebas Neue", cursive;
        --font-body: "Noto Sans KR", sans-serif;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-body);
        background-color: var(--background-color);
        color: var(--primary-text);
        min-height: 100vh;
        overflow-x: hidden;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      .header {
        text-align: center;
        margin-bottom: 20px;
      }
      .header h1 {
        font-family: var(--font-heading);
        font-size: 5rem;
        color: var(--primary-text);
        letter-spacing: 3px;
        text-shadow: 0 0 5px var(--neon-cyan), 0 0 10px var(--neon-cyan),
          0 0 20px var(--neon-cyan);
        animation: flicker 3s infinite alternate;
      }

      @keyframes flicker {
        0%,
        18%,
        22%,
        25%,
        53%,
        57%,
        100% {
          text-shadow: 0 0 4px var(--neon-cyan), 0 0 11px var(--neon-cyan),
            0 0 19px var(--neon-cyan);
        }
        20%,
        24%,
        55% {
          text-shadow: none;
        }
      }

      .controls {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 25px;
        margin-bottom: 40px;
      }
      .course-buttons,
      .language-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }
      .btn {
        font-family: var(--font-body);
        font-weight: 700;
        padding: 12px 25px;
        border-radius: 5px;
        background: transparent;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .course-btn {
        border: 2px solid var(--neon-cyan);
        color: var(--neon-cyan);
        text-shadow: 0 0 2px var(--neon-cyan);
      }
      .course-btn:hover,
      .course-btn.active {
        background: var(--neon-cyan);
        color: var(--background-color);
        box-shadow: 0 0 5px var(--neon-cyan), 0 0 15px var(--neon-cyan),
          0 0 30px var(--neon-cyan);
        text-shadow: none;
      }
      .lang-btn {
        border: 1px solid var(--neon-pink);
        color: var(--neon-pink);
        font-size: 14px;
        padding: 8px 20px;
      }
      .lang-btn:hover,
      .lang-btn.active {
        background: var(--neon-pink);
        color: var(--background-color);
        box-shadow: 0 0 5px var(--neon-pink), 0 0 10px var(--neon-pink);
      }

      .content-wrapper {
        display: grid;
        grid-template-columns: 1fr;
        gap: 40px;
      }
      .map-container,
      .itinerary-container {
        background-color: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 25px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
      }
      #map {
        height: 550px;
        border-radius: 4px;
        background-color: #000;
      }
      .itinerary-container h3 {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        text-align: center;
        margin-bottom: 30px;
        letter-spacing: 2px;
        color: var(--neon-cyan);
        text-shadow: 0 0 5px var(--neon-cyan);
      }
      .itinerary-days {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
      }
      .day-plan h4 {
        font-size: 1.5rem;
        margin-bottom: 20px;
        color: var(--primary-text);
        border-bottom: 2px solid var(--border-color);
        padding-bottom: 10px;
      }

      .place {
        background-color: #0d1b2a;
        border-radius: 8px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        overflow: hidden;
        border: 1px solid var(--border-color);
      }
      .place:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 15px var(--neon-pink);
        border-color: var(--neon-pink);
      }
      .place img {
        width: 100%;
        height: 250px; /* Ïó¨Í∏∞Î•º 150pxÏóêÏÑú 250pxÎ°ú Î≥ÄÍ≤ΩÌñàÏäµÎãàÎã§. */
        object-fit: cover;
        display: block;
      }
      .place-info {
        padding: 15px;
      }
      .place-name {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--primary-text);
        margin-bottom: 5px;
      }
      .place-desc {
        font-size: 0.9rem;
        color: var(--secondary-text);
        line-height: 1.5;
      }

      .leaflet-popup-content-wrapper {
        background: var(--card-bg);
        color: var(--primary-text);
        border-radius: 5px;
        border: 1px solid var(--neon-pink);
        box-shadow: 0 0 20px var(--neon-pink);
      }
      .leaflet-popup-content {
        margin: 15px;
        font-size: 14px;
      }
      .leaflet-popup-tip {
        background: var(--card-bg);
      }
      .leaflet-popup-content b {
        font-size: 16px;
        color: var(--neon-cyan);
      }
      a.leaflet-popup-close-button {
        color: var(--primary-text);
      }
      .neon-marker {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 2px solid white;
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(0.9);
        }
        70% {
          transform: scale(1.1);
        }
      }
      .marker-day1 {
        background-color: var(--neon-pink);
        box-shadow: 0 0 8px var(--neon-pink), 0 0 15px var(--neon-pink);
      }
      .marker-day2 {
        background-color: var(--neon-cyan);
        box-shadow: 0 0 8px var(--neon-cyan), 0 0 15px var(--neon-cyan);
      }

      @media (max-width: 900px) {
        .itinerary-days {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 768px) {
        .header h1 {
          font-size: 3.5rem;
        }
        .controls {
          gap: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header"><h1 id="main-title">BUSAN TOUR</h1></header>

      <div class="controls">
        <div class="course-buttons">
          <button
            id="course-ko"
            class="btn course-btn active"
            onclick="changeCourse('ko')"
          >
            <span id="course-ko-text">üá∞üá∑ ÌïúÍµ≠ ÏπúÍµ¨ ÏΩîÏä§</span>
          </button>
          <button
            id="course-ja"
            class="btn course-btn"
            onclick="changeCourse('ja')"
          >
            <span id="course-ja-text">üáØüáµ ÏùºÎ≥∏ ÏπúÍµ¨ ÏΩîÏä§</span>
          </button>
          <button
            id="course-cn"
            class="btn course-btn"
            onclick="changeCourse('cn')"
          >
            <span id="course-cn-text">üá®üá≥ Ï§ëÍµ≠ ÏπúÍµ¨ ÏΩîÏä§</span>
          </button>
        </div>
        <div class="language-buttons">
          <button class="btn lang-btn active" onclick="changeLanguage('ko')">
            ÌïúÍµ≠Ïñ¥
          </button>
          <button class="btn lang-btn" onclick="changeLanguage('ja')">
            Êó•Êú¨Ë™û
          </button>
          <button class="btn lang-btn" onclick="changeLanguage('zh')">
            ‰∏≠Êñá
          </button>
        </div>
      </div>

      <div class="content-wrapper">
        <section class="map-container"><div id="map"></div></section>
        <section class="itinerary-container">
          <h3 id="itinerary-title"></h3>
          <div class="itinerary-days">
            <div class="day-plan" id="day1-plan"></div>
            <div class="day-plan" id="day2-plan"></div>
          </div>
        </section>
      </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
      let currentCourse = "ko",
        currentLang = "ko",
        map,
        markers = [],
        routeLines = [];

      const courseDataFull = {
        ko: {
          day1: [
            { id: "dureraum", lat: 35.1702, lng: 129.1249 },
            { id: "miryang", lat: 35.1612, lng: 129.1622 },
            { id: "osulloc", lat: 35.1593, lng: 129.1601 },
            { id: "haeundae", lat: 35.1587, lng: 129.1604 },
            { id: "toyoko", lat: 35.1623, lng: 129.1618 },
          ],
          day2: [
            { id: "haeundaemarket", lat: 35.1598, lng: 129.1595 },
            { id: "dongbaek", lat: 35.1531, lng: 129.1485 },
          ],
        },
        ja: {
          day1: [
            { id: "dureraum", lat: 35.1702, lng: 129.1249 },
            { id: "shinsegae", lat: 35.1689, lng: 129.1296 },
            { id: "osulloc", lat: 35.1593, lng: 129.1601 },
            { id: "gwangalli", lat: 35.1534, lng: 129.1181 },
            { id: "mulbora", lat: 35.1541, lng: 129.1182 },
            { id: "browndot", lat: 35.153, lng: 129.1203 },
          ],
          day2: [
            { id: "nomorepizza", lat: 35.1528, lng: 129.1198 },
            { id: "bupyeong", lat: 35.0991, lng: 129.0253 },
          ],
        },
        cn: {
          day1: [
            { id: "dureraum", lat: 35.1702, lng: 129.1249 },
            { id: "gaegummil", lat: 35.1558, lng: 129.056 },
            { id: "seomyeoncafe", lat: 35.1568, lng: 129.0559 },
            { id: "gwangalli", lat: 35.1534, lng: 129.1181 },
            { id: "avenue", lat: 35.1578, lng: 129.0592 },
          ],
          day2: [
            { id: "gukje", lat: 35.1001, lng: 129.027 },
            { id: "dureraum2", lat: 35.1702, lng: 129.1249 },
          ],
        },
      };

      const translationsFull = {
        ko: {
          courseButtons: {
            ko: "üá∞üá∑ ÌïúÍµ≠ ÏπúÍµ¨ ÏΩîÏä§",
            ja: "üáØüáµ ÏùºÎ≥∏ ÏπúÍµ¨ ÏΩîÏä§",
            cn: "üá®üá≥ Ï§ëÍµ≠ ÏπúÍµ¨ ÏΩîÏä§",
          },
          courseTitle: {
            ko: "ÌïúÍµ≠ ÏπúÍµ¨ ÏΩîÏä§",
            ja: "ÏùºÎ≥∏ ÏπúÍµ¨ ÏΩîÏä§",
            cn: "Ï§ëÍµ≠ ÏπúÍµ¨ ÏΩîÏä§",
          },
          day1: "Day 1",
          day2: "Day 2",
          places: {
            dureraum: {
              name: "ÏòÅÌôîÏùòÏ†ÑÎãπ",
              desc: "Î∂ÄÏÇ∞Íµ≠Ï†úÏòÅÌôîÏ†ú Î©îÏù∏ ÏÉÅÏòÅÍ¥Ä, ÏãúÎÑ§ÌïÑ ÏÑ±ÏßÄ. Í∑ºÏ≤ò Î≤°Ïä§ÏΩî/ÏÑºÌÖÄÏãúÌã∞ÏôÄ ÎèÑÎ≥¥ 10Î∂Ñ Í±∞Î¶¨",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
            miryang: {
              name: "Î∞ÄÏñëÏàúÎåÄÎèºÏßÄÍµ≠Î∞• Ìï¥Ïö¥ÎåÄÏ†ê",
              desc: "Í∞ÄÏÑ±ÎπÑ Íµ≠Î∞• ÎßõÏßë (6~8Ï≤úÏõêÎåÄ), Îì†Îì†Ìïú Ï†êÏã¨. ÏòÅÌôîÏùòÏ†ÑÎãπÏóêÏÑú Î≤ÑÏä§Î°ú ÏïΩ 10Î∂Ñ",
              img: "images/Î∞ÄÏñëÏàúÎåÄÎèºÏßÄÍµ≠Î∞•.jpg",
            },
            osulloc: {
              name: "Ïò§ÏÑ§Î°ù Ìã∞ÌïòÏö∞Ïä§ Ìï¥Ïö¥ÎåÄÏ†ê",
              desc: "Ï¥àÎ°ùÎπõ Í∞êÏÑ±Ïπ¥Ìéò, Ìã∞+ÎîîÏ†ÄÌä∏. Ìï¥Ïö¥ÎåÄ Ìï¥ÏàòÏöïÏû• Î∞îÎ°ú Ïïû",
              img: "images/Ïò§ÏÑ§Î°ù.jpg",
            },
            haeundae: {
              name: "Ìï¥Ïö¥ÎåÄ Ìï¥ÏàòÏöïÏû•",
              desc: "ÏÇ∞Ï±ÖÌïòÎ©∞ ÏÇ¨ÏßÑ Ï¥¨ÏòÅ Ìè¨Ïù∏Ìä∏. ÏùºÎ™∞ ÌÉÄÏûÑ Ï∂îÏ≤ú",
              img: "images/Ìï¥Ïö¥ÎåÄ.jpg",
            },
            toyoko: {
              name: "ÌÜ†ÏöîÏΩîÏù∏ Ìï¥Ïö¥ÎåÄ 1Ìò∏Ï†ê",
              desc: "ÎèÑÎ≥¥Î°ú Ìï¥Ïö¥ÎåÄ ÏùºÎåÄ Ï†ëÍ∑º Í∞ÄÎä•, 1Î∞ï 4Îßå~5ÎßåÏõêÎåÄ",
              img: "images/ÌÜ†ÏöîÏΩîÏù∏.jpg",
            },
            haeundaemarket: {
              name: "Ìï¥Ïö¥ÎåÄ Ï†ÑÌÜµÏãúÏû•",
              desc: "Î°úÏª¨ Î∂ÑÏúÑÍ∏∞ + Ìï©Î¶¨Ï†Å Í∞ÄÍ≤© + Í∏∏Í±∞Î¶¨ÏùåÏãù",
              img: "images/Ìï¥Ïö¥ÎåÄÏ†ÑÌÜµÏãúÏû•.jpg",
            },
            dongbaek: {
              name: "ÎèôÎ∞±Í≥µÏõê",
              desc: "Ìï¥ÏïàÏÇ∞Ï±ÖÎ°ú Í±∑Í∏∞",
              img: "images/ÎèôÎ∞±Í≥µÏõê.webp",
            },
            shinsegae: {
              name: "ÏÑºÌÖÄÏãúÌã∞ Ïã†ÏÑ∏Í≥Ñ Ìë∏ÎìúÏΩîÌä∏",
              desc: "ÍπîÎÅîÌïòÍ≥† Îã§ÏñëÌïú ÏùåÏãù, Ïπ¥Îìú Í≤∞Ï†ú Ìé∏Î¶¨",
              img: "images/Ïã†ÏÑ∏Í≥Ñ.jpg",
            },
            gwangalli: {
              name: "Í¥ëÏïàÎ¶¨ Ìï¥ÏàòÏöïÏû•",
              desc: "ÏùºÎ™∞ Ï¥¨ÏòÅ Ìè¨Ïù∏Ìä∏. Ìï¥Î≥Ä Î∞îÎ°ú Ïïû Ïπ¥ÌéòÍ±∞Î¶¨ÏóêÏÑú ÏûêÏú† ÏÇ∞Ï±Ö",
              img: "images/Í¥ëÏïàÎ¶¨.jpg",
            },
            mulbora: {
              name: "Î¨ºÎ≥¥Îùº Í¥ëÏïàÏ†ê",
              desc: "Î∞îÎã§ Î∞îÎ°ú Ïïû Ïù¥ÏûêÏπ¥Ïïº Í∞êÏÑ± Ïà†Ïßë. Ïù∏Îãπ ÏïΩ 1ÎßåÏõêÎåÄ",
              img: "images/Î¨ºÎ≥¥Îùº.jpg",
            },
            browndot: {
              name: "Î∏åÎùºÏö¥ÎèÑÌä∏Ìò∏ÌÖî Í¥ëÏïàÎ¶¨Ï†ê",
              desc: "Î∞îÎã§ Î∑∞, 1Î∞ï 5ÎßåÏõêÎåÄ, ÍπîÎÅîÌïú Ïù∏ÌÖåÎ¶¨Ïñ¥",
              img: "images/Î∏åÎùºÏö¥ÎèÑÌä∏.jpg",
            },
            nomorepizza: {
              name: "ÎÖ∏Î™®Ïñ¥ÌîºÏûê Í¥ëÏïàÎ¶¨Ï†ê",
              desc: "Í¥ëÏïàÎ¶¨ Ìï¥ÏàòÏöïÏû• Ïù∏Í∑º. Í∞úÏÑ±ÏûàÎäî ÌîºÏûê Î©îÎâ¥",
              img: "images/ÎÖ∏Î™®Ïñ¥ÌîºÏûê.jpg",
            },
            bupyeong: {
              name: "Î∂ÄÌèâÍπ°ÌÜµÏãúÏû•",
              desc: "Î∂ÄÏÇ∞ Î™ÖÎ¨º Î®πÍ±∞Î¶¨ ÌÉêÎ∞©, Í∏∏Í±∞Î¶¨ ÏùåÏãù Îã§Ïñë",
              img: "images/Î∂ÄÌèâÍπ°ÌÜµÏãúÏû•.jpg",
            },
            gaegummil: {
              name: "ÏÑúÎ©¥ Í∞úÍ∏àÎ∞ÄÎ©¥",
              desc: "Î∂ÄÏÇ∞ ÎåÄÌëú ÎÉâÎ©¥Î•ò, Í∞ÄÏÑ±ÎπÑ 7Ï≤úÏõêÎåÄ. ÏòÅÌôîÏùòÏ†ÑÎãπ ‚Üí ÏÑúÎ©¥ ÏßÄÌïòÏ≤† ÏïΩ 25Î∂Ñ",
              img: "images/Í∞úÍ∏àÎ∞ÄÎ©¥.jpg",
            },
            seomyeoncafe: {
              name: "ÏÑúÎ©¥ Ïπ¥ÌéòÍ±∞Î¶¨ (Ïï§ÎìúÌÖåÏùº/Ïõ®Ïù¥Î∏åÏò®)",
              desc: "Ïù∏Ïä§ÌÉÄ Í∞êÏÑ± Ïπ¥Ìéò Î∞ÄÏßëÏßÄÏó≠",
              img: "images/ÏÑúÎ©¥Ïπ¥Ìéò.jpg",
            },
            avenue: {
              name: "ÏïÑÎ∏åÎâ¥ Ìò∏ÌÖî ÏÑúÎ©¥Ï†ê",
              desc: "Ï§ëÏã¨ÏßÄ Ï†ëÍ∑ºÏÑ± Ïö∞Ïàò, 1Î∞ï 4ÎßåÎåÄ",
              img: "images/ÏïÑÎ∏åÎâ¥.jpg",
            },
            gukje: {
              name: "Íµ≠Ï†úÏãúÏû•/Î∂ÄÌèâÍπ°ÌÜµÏãúÏû•",
              desc: "Í∞ÑÎã®Ìïú ÏáºÌïë + ÌïúÍµ≠ Î∂ÑÏúÑÍ∏∞",
              img: "images/Íµ≠Ï†úÏãúÏû•.jpg",
            },
            dureraum2: {
              name: "ÏòÅÌôîÏùòÏ†ÑÎãπ ÏàòÎ≥ÄÍ∏∏ Ïû¨Î∞©Î¨∏",
              desc: "Î∂ÄÏÇ∞Íµ≠Ï†úÏòÅÌôîÏ†ú ÏÉÅÏßïÏ†Å Ïû•ÏÜå. Îã®Ï≤¥ÏÇ¨ÏßÑ Î™ÖÏÜå",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
          },
        },
        ja: {
          courseButtons: {
            ko: "üá∞üá∑ ÈüìÂõΩ„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
            ja: "üáØüáµ Êó•Êú¨„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
            cn: "üá®üá≥ ‰∏≠ÂõΩ„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
          },
          courseTitle: {
            ko: "ÈüìÂõΩ„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
            ja: "Êó•Êú¨„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
            cn: "‰∏≠ÂõΩ„ÅÆÂèãÈÅî„Ç≥„Éº„Çπ",
          },
          day1: "Day 1",
          day2: "Day 2",
          places: {
            dureraum: {
              name: "Êò†Áîª„ÅÆÊÆøÂ†Ç",
              desc: "BIFFÂÖ¨Âºè‰∏äÊò†È§®„ÄÅ„Éá„Ç∂„Ç§„É≥„Éï„Ç©„Éà„Çæ„Éº„É≥Â§öÊï∞",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
            miryang: {
              name: "„Éü„É™„É£„É≥„Çπ„É≥„ÉáË±ö„ÇØ„ÉÉ„Éë Êµ∑Èõ≤Âè∞Â∫ó",
              desc: "„Ç≥„Çπ„ÉëËâØ„ÅÑ„ÇØ„ÉÉ„ÉëÂ∞ÇÈñÄÂ∫óÔºà6~8ÂçÉ„Ç¶„Ç©„É≥Ôºâ„ÄÅ„Éú„É™„É•„Éº„É†Ê∫ÄÁÇπ„ÄÇÊò†Áîª„ÅÆÊÆøÂ†Ç„Åã„Çâ„Éê„Çπ„ÅßÁ¥Ñ10ÂàÜ",
              img: "images/Î∞ÄÏñëÏàúÎåÄÎèºÏßÄÍµ≠Î∞•.jpg",
            },
            osulloc: {
              name: "„Ç™„ÇΩ„É´„É≠„ÉÉ„ÇØ„ÉÜ„Ç£„Éº„Éè„Ç¶„Çπ Êµ∑Èõ≤Âè∞Â∫ó",
              desc: "Êó•Êú¨‰∫∫Ë¶≥ÂÖâÂÆ¢„Å´‰∫∫Ê∞ó„ÄÅÊäπËå∂„Éá„Ç∂„Éº„Éà",
              img: "images/Ïò§ÏÑ§Î°ù.jpg",
            },
            haeundae: {
              name: "Êµ∑Èõ≤Âè∞„Éì„Éº„ÉÅ",
              desc: "Êï£Á≠ñ„Åó„Å™„Åå„ÇâÊíÆÂΩ±„Éù„Ç§„É≥„Éà„ÄÇÂ§ïÊöÆ„ÇåÊôÇ„Åå„Åä„Åô„Åô„ÇÅ",
              img: "images/Ìï¥Ïö¥ÎåÄ.jpg",
            },
            toyoko: {
              name: "Êù±Ê®™„Ç§„É≥ Êµ∑Èõ≤Âè∞1Âè∑Â∫ó",
              desc: "ÂæíÊ≠©„ÅßÊµ∑Èõ≤Âè∞„Ç®„É™„Ç¢„Å´„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ„ÄÅ1Ê≥ä4‰∏á~5‰∏á„Ç¶„Ç©„É≥",
              img: "images/ÌÜ†ÏöîÏΩîÏù∏.jpg",
            },
            haeundaemarket: {
              name: "Êµ∑Èõ≤Âè∞‰ºùÁµ±Â∏ÇÂ†¥",
              desc: "„É≠„Éº„Ç´„É´Èõ∞Âõ≤Ê∞ó + „É™„Éº„Ç∫„Éä„Éñ„É´ + Â±ãÂè∞„Ç∞„É´„É°",
              img: "images/Ìï¥Ïö¥ÎåÄÏ†ÑÌÜµÏãúÏû•.jpg",
            },
            dongbaek: {
              name: "ÂÜ¨ÊüèÂÖ¨Âúí",
              desc: "Êµ∑Â≤∏Êï£Á≠ñË∑Ø„Ç¶„Ç©„Éº„Ç≠„É≥„Ç∞",
              img: "images/ÎèôÎ∞±Í≥µÏõê.jpg",
            },
            shinsegae: {
              name: "„Çª„É≥„Çø„É†„Ç∑„ÉÜ„Ç£Êñ∞‰∏ñÁïå„Éï„Éº„Éâ„Ç≥„Éº„Éà",
              desc: "Ê∏ÖÊΩî„ÅßÂ§öÊßò„Å™„É°„Éã„É•„Éº„ÄÅ„Ç´„Éº„ÉâÊ±∫Ê∏à‰æøÂà©",
              img: "images/Ïã†ÏÑ∏Í≥Ñ.jpg",
            },
            gwangalli: {
              name: "Â∫ÉÂÆâÈáå„Éì„Éº„ÉÅ",
              desc: "Â§ïÊöÆ„ÇåÊíÆÂΩ±„Éù„Ç§„É≥„Éà„ÄÇ„Éì„Éº„ÉÅÊ≤ø„ÅÑ„Ç´„Éï„ÇßÈÄö„Çä„ÅßËá™Áî±Êï£Á≠ñ",
              img: "images/Í¥ëÏïàÎ¶¨.jpg",
            },
            mulbora: {
              name: "„É†„É´„Éú„É© Â∫ÉÂÆâÂ∫ó",
              desc: "Êµ∑„ÅÆÁõÆ„ÅÆÂâç„ÄÅÂ±ÖÈÖíÂ±ãÈõ∞Âõ≤Ê∞ó„ÅÆÈ£≤„ÅøÂ±ã„ÄÇ‰∏Ä‰∫∫Á¥Ñ1‰∏á„Ç¶„Ç©„É≥",
              img: "images/Î¨ºÎ≥¥Îùº.jpg",
            },
            browndot: {
              name: "„Éñ„É©„Ç¶„É≥„Éâ„ÉÉ„Éà„Éõ„ÉÜ„É´ Â∫ÉÂÆâÈáåÂ∫ó",
              desc: "„Ç™„Éº„Ç∑„É£„É≥„Éì„É•„Éº„ÄÅ1Ê≥ä5‰∏á„Ç¶„Ç©„É≥Âè∞„ÄÅÊ∏ÖÊΩî„Å™„Ç§„É≥„ÉÜ„É™„Ç¢",
              img: "images/Î∏åÎùºÏö¥ÎèÑÌä∏.jpg",
            },
            nomorepizza: {
              name: "„Éé„Éº„É¢„Ç¢„Éî„Ç∂ Â∫ÉÂÆâÈáåÂ∫ó",
              desc: "Â∫ÉÂÆâÈáå„Éì„Éº„ÉÅËøë„Åè„ÄÇÂÄãÊÄßÁöÑ„Å™„Éî„Ç∂„É°„Éã„É•„Éº",
              img: "images/ÎÖ∏Î™®Ïñ¥ÌîºÏûê.jpg",
            },
            bupyeong: {
              name: "ÂØåÂπ≥„Ç´„É≥„Éà„É≥Â∏ÇÂ†¥",
              desc: "ÈáúÂ±±ÂêçÁâ©„Ç∞„É´„É°Êé¢Ë®™„ÄÅÂ±ãÂè∞ÊñôÁêÜË±äÂØå",
              img: "images/Î∂ÄÌèâÍπ°ÌÜµÏãúÏû•.jpg",
            },
            gaegummil: {
              name: "Ë•øÈù¢ „Ç±„Ç∞„É†„Éü„É´„Éü„Éß„É≥",
              desc: "ÈáúÂ±±‰ª£Ë°®ÂÜ∑È∫∫È°û„ÄÅ„Ç≥„Çπ„Éë7ÂçÉ„Ç¶„Ç©„É≥Âè∞„ÄÇÊò†Áîª„ÅÆÊÆøÂ†Ç ‚Üí Ë•øÈù¢ Âú∞‰∏ãÈâÑÁ¥Ñ25ÂàÜ",
              img: "images/Í∞úÍ∏àÎ∞ÄÎ©¥.jpg",
            },
            seomyeoncafe: {
              name: "Ë•øÈù¢ „Ç´„Éï„ÇßÈÄö„ÇäÔºà„Ç¢„É≥„Éâ„ÉÜ„Ç§„É´/„Ç¶„Çß„Ç§„Éñ„Ç™„É≥Ôºâ",
              desc: "„Ç§„É≥„Çπ„ÇøÊò†„Åà„Ç´„Éï„ÇßÂØÜÈõÜÂú∞Âüü",
              img: "images/ÏÑúÎ©¥Ïπ¥Ìéò.jpg",
            },
            avenue: {
              name: "„Ç¢„Éô„Éã„É•„Éº„Éõ„ÉÜ„É´ Ë•øÈù¢Â∫ó",
              desc: "‰∏≠ÂøÉÂú∞„Ç¢„ÇØ„Çª„ÇπËâØÂ•Ω„ÄÅ1Ê≥ä4‰∏á„Ç¶„Ç©„É≥Âè∞",
              img: "images/ÏïÑÎ∏åÎâ¥.jpg",
            },
            gukje: {
              name: "ÂõΩÈöõÂ∏ÇÂ†¥/ÂØåÂπ≥„Ç´„É≥„Éà„É≥Â∏ÇÂ†¥",
              desc: "Á∞°Âçò„Å™„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞ + ÈüìÂõΩ„ÅÆÈõ∞Âõ≤Ê∞ó",
              img: "images/Íµ≠Ï†úÏãúÏû•.jpg",
            },
            dureraum2: {
              name: "Êò†Áîª„ÅÆÊÆøÂ†Ç Ê∞¥Ëæ∫ÈÅì ÂÜçË®™Âïè",
              desc: "ÈáúÂ±±ÂõΩÈöõÊò†ÁîªÁ•≠„ÅÆË±°Âæ¥ÁöÑ„Å™Â†¥ÊâÄ„ÄÇÂõ£‰ΩìÂÜôÁúü„Çπ„Éù„ÉÉ„Éà",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
          },
        },
        zh: {
          courseButtons: {
            ko: "üá∞üá∑ Èü©ÂõΩÊúãÂèãË∑ØÁ∫ø",
            ja: "üáØüáµ Êó•Êú¨ÊúãÂèãË∑ØÁ∫ø",
            cn: "üá®üá≥ ‰∏≠ÂõΩÊúãÂèãË∑ØÁ∫ø",
          },
          courseTitle: {
            ko: "Èü©ÂõΩÊúãÂèãË∑ØÁ∫ø",
            ja: "Êó•Êú¨ÊúãÂèãË∑ØÁ∫ø",
            cn: "‰∏≠ÂõΩÊúãÂèãË∑ØÁ∫ø",
          },
          day1: "Day 1",
          day2: "Day 2",
          places: {
            dureraum: {
              name: "ÁîµÂΩ±ÊÆøÂ†Ç",
              desc: "ÈáúÂ±±ÂõΩÈôÖÁîµÂΩ±ËäÇË±°ÂæÅÊÄßÂú∫ÊâÄ„ÄÇÂõ¢‰ΩìÁÖßÊôØÁÇπ",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
            miryang: {
              name: "ÂØÜÈò≥Ë°ÄËÇ†Áå™ËÇâÊ±§È•≠ Êµ∑‰∫ëÂè∞Â∫ó",
              desc: "ÊÄß‰ª∑ÊØîÊ±§È•≠È§êÂéÖÔºà6~8ÂçÉÈü©ÂÖÉÔºâÔºåÈ•±ËÖπÂçàÈ§ê„ÄÇ‰ªéÁîµÂΩ±ÊÆøÂ†Ç‰πòÂ∑¥Â£´Á∫¶10ÂàÜÈíü",
              img: "images/Î∞ÄÏñëÏàúÎåÄÎèºÏßÄÍµ≠Î∞•.jpg",
            },
            osulloc: {
              name: "O'SullocËå∂È¶Ü Êµ∑‰∫ëÂè∞Â∫ó",
              desc: "ÁªøËâ≤ÊÑüÊÄßÂíñÂï°È¶ÜÔºåËå∂+ÁîúÁÇπ„ÄÇÊµ∑‰∫ëÂè∞Êµ∑Ê∞¥Êµ¥Âú∫Ê≠£ÂâçÊñπ",
              img: "images/Ïò§ÏÑ§Î°ù.jpg",
            },
            haeundae: {
              name: "Êµ∑‰∫ëÂè∞Êµ∑Ê∞¥Êµ¥Âú∫",
              desc: "Êï£Ê≠•ÊãçÁÖßÊôØÁÇπ„ÄÇÊé®ËçêÊó•ËêΩÊó∂Èó¥",
              img: "images/Ìï¥Ïö¥ÎåÄ.jpg",
            },
            toyoko: {
              name: "‰∏úÊ®™INN Êµ∑‰∫ëÂè∞1Âè∑Â∫ó",
              desc: "Ê≠•Ë°åÂèØËææÊµ∑‰∫ëÂè∞ÂÖ®Âå∫Ôºå1Êôö4‰∏á~5‰∏áÈü©ÂÖÉ",
              img: "images/ÌÜ†ÏöîÏΩîÏù∏.jpg",
            },
            haeundaemarket: {
              name: "Êµ∑‰∫ëÂè∞‰º†ÁªüÂ∏ÇÂú∫",
              desc: "Êú¨Âú∞Ê∞õÂõ¥ + ÂêàÁêÜ‰ª∑Ê†º + Ë°óÂ§¥ÁæéÈ£ü",
              img: "images/Ìï¥Ïö¥ÎåÄÏ†ÑÌÜµÏãúÏû•.jpg",
            },
            dongbaek: {
              name: "ÂÜ¨ÊüèÂÖ¨Âõ≠",
              desc: "Êµ∑Â≤∏Êï£Ê≠•ÈÅìÂæíÊ≠•",
              img: "images/ÎèôÎ∞±Í≥µÏõê.jpg",
            },
            shinsegae: {
              name: "Centum CityÊñ∞‰∏ñÁïåÁæéÈ£üÂπøÂú∫",
              desc: "Êï¥Ê¥ÅÂ§öÊ†∑ÁöÑÈ£üÁâ©ÔºåÂà∑Âç°Êñπ‰æø",
              img: "images/Ïã†ÏÑ∏Í≥Ñ.jpg",
            },
            gwangalli: {
              name: "ÂπøÂÆâÈáåÊµ∑Êª®Â§úÊôØ",
              desc: "ÂπøÂÆâÂ§ßÊ°•ÁÅØÂÖâ‰∏ãÊâìÂç°ÂøÖÊãç",
              img: "images/Í¥ëÏïàÎ¶¨.jpg",
            },
            mulbora: {
              name: "Mulbora ÂπøÂÆâÂ∫ó",
              desc: "Êµ∑ËæπÊ≠£ÂâçÊñπÂ±ÖÈÖíÂ±ãÈ£éÊ†ºÈÖíÂêß„ÄÇ‰∫∫ÂùáÁ∫¶1‰∏áÈü©ÂÖÉ",
              img: "images/Î¨ºÎ≥¥Îùº.jpg",
            },
            browndot: {
              name: "Brown DotÈÖíÂ∫ó ÂπøÂÆâÈáåÂ∫ó",
              desc: "Êµ∑ÊôØÊàøÔºå1Êôö5‰∏áÈü©ÂÖÉÔºåÂπ≤ÂáÄÁöÑÂÆ§ÂÜÖË£ÖÈ•∞",
              img: "images/Î∏åÎùºÏö¥ÎèÑÌä∏.jpg",
            },
            nomorepizza: {
              name: "No More Pizza ÂπøÂÆâÈáåÂ∫ó",
              desc: "ÂπøÂÆâÈáåÊµ∑Ê∞¥Êµ¥Âú∫ÈôÑËøë„ÄÇÊúâ‰∏™ÊÄßÁöÑÊä´Ëê®ËèúÂçï",
              img: "images/ÎÖ∏Î™®Ïñ¥ÌîºÏûê.jpg",
            },
            bupyeong: {
              name: "ÂØåÂπ≥ÁΩêÂ§¥Â∏ÇÂú∫",
              desc: "ÈáúÂ±±ÂêçÁâ©ÁæéÈ£üÊé¢ËÆøÔºåË°óÂ§¥È£üÂìÅ‰∏∞ÂØå",
              img: "images/Î∂ÄÌèâÍπ°ÌÜµÏãúÏû•.jpg",
            },
            gaegummil: {
              name: "Ë•øÈù¢ ÁõñÈáëÂÜ∑Èù¢",
              desc: "ÈáúÂ±±‰ª£Ë°®ÂÜ∑Èù¢Á±ªÔºåÊÄß‰ª∑ÊØî7ÂçÉÈü©ÂÖÉ„ÄÇÁîµÂΩ±ÊÆøÂ†Ç ‚Üí Ë•øÈù¢ Âú∞ÈìÅÁ∫¶25ÂàÜÈíü",
              img: "images/Í∞úÍ∏àÎ∞ÄÎ©¥.jpg",
            },
            seomyeoncafe: {
              name: "Ë•øÈù¢ÂíñÂï°Ë°óÔºàAnd Tail/Wave OnÔºâ",
              desc: "InstagramÈ£éÊ†ºÂíñÂï°È¶ÜÂØÜÈõÜÂå∫Âüü",
              img: "images/ÏÑúÎ©¥Ïπ¥Ìéò.jpg",
            },
            avenue: {
              name: "AvenueÈÖíÂ∫ó Ë•øÈù¢Â∫ó",
              desc: "Â∏Ç‰∏≠ÂøÉ‰∫§ÈÄö‰æøÂà©Ôºå1Êôö4‰∏áÈü©ÂÖÉ",
              img: "images/ÏïÑÎ∏åÎâ¥.jpg",
            },
            gukje: {
              name: "ÂõΩÈôÖÂ∏ÇÂú∫/ÂØåÂπ≥ÁΩêÂ§¥Â∏ÇÂú∫",
              desc: "ÁÆÄÂçïË¥≠Áâ© + Èü©ÂõΩÊ∞õÂõ¥",
              img: "images/Íµ≠Ï†úÏãúÏû•.jpg",
            },
            dureraum2: {
              name: "ÁîµÂΩ±ÊÆøÂ†ÇÊ∞¥ËæπË∑Ø ÂÜçÊ¨°ËÆøÈóÆ",
              desc: "ÈáúÂ±±ÂõΩÈôÖÁîµÂΩ±ËäÇË±°ÂæÅÊÄßÂú∫ÊâÄ„ÄÇÂõ¢‰ΩìÁÖßÊôØÁÇπ",
              img: "images/ÏòÅÌôîÏùòÏ†ÑÎãπ.jpg",
            },
          },
        },
      };

      function initMap() {
        map = L.map("map").setView([35.12, 129.08], 11);
        L.tileLayer(
          "https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",
          { attribution: "&copy; OpenStreetMap &copy; CARTO", maxZoom: 19 }
        ).addTo(map);
        updateDisplay();
      }

      function updateDisplay() {
        const trans = translationsFull[currentLang] || translationsFull.ko;
        const course = courseDataFull[currentCourse];

        // Update course button texts
        document.getElementById("course-ko-text").textContent =
          trans.courseButtons.ko;
        document.getElementById("course-ja-text").textContent =
          trans.courseButtons.ja;
        document.getElementById("course-cn-text").textContent =
          trans.courseButtons.cn;

        // Update itinerary title
        document.getElementById("itinerary-title").textContent =
          trans.courseTitle[currentCourse];

        ["day1", "day2"].forEach((day) => {
          const dayPlanEl = document.getElementById(`${day}-plan`);
          if (course[day] && course[day].length > 0) {
            dayPlanEl.innerHTML = `<h4>${trans[day]}</h4>`;
            course[day].forEach((place) => {
              const placeInfo = trans.places[place.id];
              const placeEl = document.createElement("div");
              placeEl.className = "place";
              placeEl.innerHTML = `<img src="${placeInfo.img}" alt="${placeInfo.name}"><div class="place-info"><div class="place-name">${placeInfo.name}</div><p class="place-desc">${placeInfo.desc}</p></div>`;
              placeEl.onclick = () => {
                map.setView([place.lat, place.lng], 16);
              };
              dayPlanEl.appendChild(placeEl);
            });
          } else {
            dayPlanEl.innerHTML = "";
          }
        });

        markers.forEach((marker) => map.removeLayer(marker));
        markers = [];
        routeLines.forEach((line) => map.removeLayer(line));
        routeLines = [];

        const allLatLngs = [];

        if (course.day1 && course.day1.length > 0) {
          const day1LatLngs = course.day1.map((p) => {
            allLatLngs.push([p.lat, p.lng]);
            return [p.lat, p.lng];
          });
          routeLines.push(
            L.polyline(day1LatLngs, {
              color: "#f000b8",
              weight: 3,
              dashArray: "5, 10",
            }).addTo(map)
          );
          course.day1.forEach((place) => addMarker(place, "day1"));
        }

        if (course.day2 && course.day2.length > 0) {
          const day2LatLngs = course.day2.map((p) => {
            allLatLngs.push([p.lat, p.lng]);
            return [p.lat, p.lng];
          });
          routeLines.push(
            L.polyline(day2LatLngs, {
              color: "#00f2ea",
              weight: 3,
              dashArray: "5, 10",
            }).addTo(map)
          );
          course.day2.forEach((place) => addMarker(place, "day2"));
        }

        if (allLatLngs.length > 0) {
          map.fitBounds(allLatLngs, { padding: [50, 50] });
        }
      }

      function addMarker(place, day) {
        const trans = translationsFull[currentLang] || translationsFull.ko;
        const placeInfo = trans.places[place.id];
        const icon = L.divIcon({
          className: `neon-marker marker-${day}`,
          iconSize: [20, 20],
        });
        const marker = L.marker([place.lat, place.lng], {
          icon: icon,
          placeId: place.id,
        })
          .addTo(map)
          .bindPopup(`<b>${placeInfo.name}</b>`, {
            autoClose: false,
            closeOnClick: false,
          });
        marker.openPopup();
        markers.push(marker);
      }

      function changeCourse(course) {
        currentCourse = course;
        document
          .querySelectorAll(".course-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document.getElementById(`course-${course}`).classList.add("active");
        updateDisplay();
      }
      function changeLanguage(lang) {
        currentLang = lang;
        document
          .querySelectorAll(".lang-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`.lang-btn[onclick="changeLanguage('${lang}')"]`)
          .classList.add("active");
        updateDisplay();
      }

      window.onload = initMap;
    </script>
  </body>
</html>
